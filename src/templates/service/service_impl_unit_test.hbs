{{>imports imports}}

{{#if print_markers}}/*__mock__*/{{/if}}

{{#each models}}

{{#if print_markers}}/*__fixture__*/{{/if}}

describe('{{this.name}}ServiceImpl', () => {
  
  beforeEach(() => {
    service = new {{this.name}}ServiceImpl();
  });

  {{#each this.methods}}
  it('"{{this.name}}" should ... successfully', async () => {
    {{#each this.props}}
    const {{this.name}} = null;
    {{/each}}
    const result = {{#if this.async}}await {{/if}}service.{{this.name}}({{join this.props ", "}});
    
    expect(result.content).toBeTruthy();
    expect(result.failure).toBeFalsy();
  });

  it('"{{this.name}}" should handle failure when ...', async () => {
    {{#each this.props}}
    const {{this.name}} = null;
    {{/each}}
    const result = {{#if this.async}}await {{/if}}service.{{this.name}}({{join this.props ", "}});
    
    expect(result.content).toBeFalsy();
    expect(result.failure).toBeInstanceOf(Failure);
  });
  
  {{/each}}
  {{#if print_markers}}/*__unit_test__*/{{/if}}
});
{{/each}}
{{#if print_markers}}/*__group__*/{{/if}}
